/*************************************************************
 *
 *  MathJax/jax/output/HTML-CSS/font/STIX/fontdata-beta.js
 *  
 *  Patches the STIX font data to work with the beta version of
 *  the STIX fonts (as opposed to the release version, assuming
 *  there ever is one).
 *
 *  ---------------------------------------------------------------------
 *  
 *  Copyright (c) 2010-2012 Design Science, Inc.
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *     http:
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
(function (HTMLCSS,TEX) {
  HTMLCSS.FONTDATA.STIXversion = "1.0-beta";
  var GENERAL = "STIXGeneral",
      BOLD    = "STIXGeneral-bold",
      ITALIC  = "STIXGeneral-italic",
//    NONUNI  = "STIXNonUnicode",
      SIZE1   = "STIXSizeOneSym",
      SIZE2   = "STIXSizeTwoSym",
      SIZE3   = "STIXSizeThreeSym",
      SIZE4   = "STIXSizeFourSym",
      SIZE5   = "STIXSizeFiveSym";
  var REPLACE = function (name,data) {
    var FONT = HTMLCSS.FONTDATA.FONTS[name];
    for (var id in data) {if (data.hasOwnProperty(id)) {FONT[id] = data[id]}}
  };
  REPLACE(GENERAL,{
    0x300: [678,-507,0,109,333],       
    0x301: [678,-507,0,109,333],       
    0x302: [674,-507,0,94,405],        
    0x303: [638,-532,0,85,415],        
    0x304: [601,-547,0,95,406],        
    0x305: [820,-770,0,0,500],         
    0x306: [664,-507,0,107,388],       
    0x307: [622,-523,0,200,299],       
    0x308: [622,-523,0,101,399],       
    0x309: [751,-492,0,173,362],       
    0x30A: [711,-512,0,151,350],       
    0x30B: [678,-507,0,79,458],        
    0x30C: [674,-507,0,95,406],        
    0x30D: [700,-500,0,230,285],       
    0x30E: [700,-500,0,154,347],       
    0x30F: [678,-507,0,79,458],        
    0x310: [767,-507,0,107,388],       
    0x311: [664,-507,0,107,388],       
    0x312: [745,-502,0,181,320],       
    0x313: [745,-502,0,181,320],       
    0x314: [745,-502,0,181,320],       
    0x315: [745,-502,0,395,534],       
    0x316: [-53,224,0,109,333],        
    0x317: [-53,224,0,109,333],        
    0x318: [-53,283,0,83,270],         
    0x319: [-53,283,0,83,270],         
    0x31A: [735,-531,0,100,400],       
    0x31B: [474,-345,0,436,531],       
    0x31C: [-71,266,0,120,248],        
    0x31D: [-53,240,0,135,365],        
    0x31E: [-53,240,0,135,365],        
    0x31F: [-53,250,0,154,346],        
    0x320: [-124,168,0,154,346],       
    0x321: [75,287,0,245,481],         
    0x322: [75,287,0,426,662],         
    0x323: [-118,217,0,200,299],       
    0x324: [-119,218,0,101,399],       
    0x325: [-69,268,0,151,350],        
    0x326: [-110,353,0,181,320],       
    0x327: [0,215,0,146,355],          
    0x328: [0,165,0,158,343],          
    0x329: [-102,234,0,230,270],       
    0x32A: [-98,235,0,95,407],         
    0x32B: [-110,227,0,100,405],       
    0x32C: [-73,240,0,95,406],         
    0x32D: [-73,240,0,95,406],         
    0x32E: [-68,225,0,110,391],        
    0x32F: [-59,216,0,110,391],        
    0x330: [-113,219,0,85,415],        
    0x331: [-141,195,0,95,406],        
    0x332: [-141,191,0,0,500],         
    0x333: [-141,300,0,0,500],         
    0x334: [320,-214,0,79,409],        
    0x335: [274,-230,0,96,402],        
    0x336: [274,-230,0,0,500],         
    0x337: [580,74,0,100,439],         
    0x338: [662,156,0,100,511],        
    0x339: [-71,266,0,120,248],        
    0x33A: [-53,190,0,95,407],         
    0x33B: [-53,227,0,167,333],        
    0x33C: [-65,189,0,100,401],        
    0x33D: [715,-525,0,154,345],       
    0x33E: [829,-499,0,197,303],       
    0x33F: [928,-770,0,0,500],         
    0x346: [681,-538,0,0,282],         
    0x34C: [777,-532,0,94,424],        
    0x359: [-65,367,0,123,393],        
    0x35C: [-76,233,0,107,775],        
    0x360: [633,-517,0,85,845],        
    0x361: [664,-507,0,107,775],       
    0x362: [-65,270,0,85,835],         
    0x20D0: [760,-627,0,27,463],       
    0x20D1: [760,-627,0,27,463],       
    0x20D2: [662,156,0,238,288],       
    0x20D6: [760,-548,0,27,463],       
    0x20D7: [760,-548,0,27,463],       
    0x20DB: [622,-523,0,18,515],       
    0x20DC: [622,-523,0,0,696],        
    0x20DD: [725,221,1000,27,973],     
    0x20DE: [780,180,0,0,960],         
    0x20DF: [843,341,0,0,1184],        
    0x20E1: [760,-548,0,27,505],       
    0x20E4: [1023,155,1510,25,1485],   
    0x20E5: [662,156,0,50,440],        
    0x20E6: [662,156,0,145,378],       
    0x20E7: [725,178,0,0,816],         
    0x20E8: [-119,218,0,18,515],       
    0x20E9: [681,-538,0,0,533],        
    0x20EA: [419,-87,0,-178,598],      
    0x20EB: [756,217,0,32,673],        
    0x20EC: [-119,252,0,27,463],       
    0x20ED: [-119,252,0,27,463],       
    0x20EE: [-40,252,0,27,463],        
    0x20EF: [-40,252,0,27,463],        
    0x20F0: [819,-517,0,123,393]       
  });
  REPLACE(BOLD,{
    0x300: [713,-528,0,141,379],       
    0x301: [713,-528,0,141,379],       
    0x302: [704,-528,0,92,429],        
    0x303: [674,-547,0,78,443],        
    0x304: [637,-565,0,95,425],        
    0x305: [838,-788,0,10,510],        
    0x306: [691,-528,0,109,412],       
    0x307: [666,-537,0,196,325],       
    0x308: [666,-537,0,91,430],        
    0x309: [751,-491,0,174,379],       
    0x30A: [750,-537,0,154,367],       
    0x30B: [713,-528,0,41,479],        
    0x30C: [704,-528,0,92,429],        
    0x30D: [730,-530,0,233,299],       
    0x30E: [730,-530,0,152,368],       
    0x30F: [713,-528,0,41,479],        
    0x310: [828,-528,0,109,412],       
    0x311: [691,-528,0,109,412],       
    0x312: [867,-532,0,168,352],       
    0x313: [867,-532,0,168,352],       
    0x314: [867,-532,0,168,352],       
    0x315: [867,-532,0,394,578],       
    0x316: [-70,255,0,141,379],        
    0x317: [-70,255,0,141,379],        
    0x318: [-58,288,0,85,287],         
    0x319: [-58,288,0,232,434],        
    0x31A: [752,-531,0,100,417],       
    0x31B: [505,-352,0,448,576],       
    0x31C: [-33,313,0,135,320],        
    0x31D: [-70,272,0,145,375],        
    0x31E: [-70,272,0,145,375],        
    0x31F: [-70,287,0,154,366],        
    0x320: [-140,206,0,154,366],       
    0x321: [75,287,0,269,488],         
    0x322: [75,287,0,416,635],         
    0x323: [-109,238,0,196,325],       
    0x324: [-109,238,0,91,430],        
    0x325: [-66,279,0,154,367],        
    0x326: [-88,423,0,168,352],        
    0x327: [0,218,0,147,373],          
    0x328: [44,173,0,146,375],         
    0x329: [-107,239,0,233,288],       
    0x32A: [-86,260,0,85,417],         
    0x32B: [-104,242,0,90,415],        
    0x32C: [-83,259,0,92,429],         
    0x32D: [-85,261,0,92,429],         
    0x32E: [-78,241,0,109,412],        
    0x32F: [-78,241,0,109,412],        
    0x330: [-108,235,0,78,443],        
    0x331: [-137,209,0,95,425],        
    0x332: [-137,187,0,10,510],        
    0x333: [-137,287,0,10,510],        
    0x334: [316,-189,0,78,443],        
    0x335: [282,-224,0,96,402],        
    0x336: [282,-224,0,0,500],         
    0x337: [580,74,0,100,467],         
    0x338: [662,156,0,100,541],        
    0x339: [-33,313,0,135,320],        
    0x33A: [-71,245,0,85,417],         
    0x33B: [-70,264,0,157,343],        
    0x33C: [-89,234,0,100,401],        
    0x33D: [719,-520,0,160,360],       
    0x33E: [881,-516,0,196,323],       
    0x33F: [938,-788,0,10,510],        
    0x346: [717,-544,0,0,303],         
    0x34C: [837,-547,333,-16,349],     
    0x359: [-66,368,0,151,421],        
    0x35C: [-79,242,0,109,810],        
    0x360: [674,-529,0,78,908],        
    0x361: [691,-534,0,107,775],       
    0x362: [-54,293,0,78,887],         
    0x20D0: [846,-637,0,40,524],       
    0x20D1: [846,-637,0,40,524],       
    0x20D2: [662,156,0,232,307],       
    0x20D6: [846,-508,0,40,524],       
    0x20D7: [846,-508,0,40,524],       
    0x20DB: [666,-537,0,-2,547],       
    0x20DC: [666,-537,0,-2,757],       
    0x20DD: [760,254,1073,32,1041],    
    0x20E1: [846,-508,0,35,629],       
    0x20E4: [1055,169,1581,32,1549],   
    0x20E5: [662,155,0,40,522],        
    0x20E6: [662,156,0,130,409],       
    0x20E7: [760,172,0,67,910],        
    0x20E8: [-109,238,0,-2,547],       
    0x20E9: [717,-544,0,0,564],        
    0x20EA: [441,-65,1073,-178,658],   
    0x20EB: [775,235,0,25,738],        
    0x20EC: [-166,375,0,40,524],       
    0x20ED: [-166,375,0,40,524],       
    0x20EE: [-35,373,0,40,524],        
    0x20EF: [-35,373,0,40,524],        
    0x20F0: [845,-543,0,125,395]       
  });
  REPLACE(ITALIC,{
    0x20D0: [760,-627,0,27,463],       
    0x20D1: [760,-627,0,54,490],       
    0x20D2: [662,156,266,100,166],     
    0x20D6: [760,-548,0,27,463],       
    0x20D7: [760,-548,0,27,463],       
    0x20DB: [622,-523,0,27,524],       
    0x20DC: [622,-523,0,18,714],       
    0x20DD: [725,221,1000,27,973],     
    0x20E1: [760,-548,0,27,505],       
    0x20E4: [1023,155,1510,25,1485],   
    0x20E5: [662,156,506,50,456],      
    0x20E6: [662,156,523,129,394],     
    0x20E7: [725,178,926,55,871],      
    0x20E8: [-119,218,0,18,515],       
    0x20E9: [681,-538,0,2,535],        
    0x20EA: [419,-87,1000,27,973],     
    0x20EC: [681,-548,0,27,463],       
    0x20ED: [681,-548,0,27,463],       
    0x20EE: [-40,252,490,27,463],      
    0x20EF: [-40,252,490,27,463]       
  });
  REPLACE(SIZE1,{
    0x302: [767,-554,0,0,560],         
    0x303: [750,-598,0,-2,558],        
    0x305: [820,-770,0,0,1000],        
    0x30C: [767,-554,0,0,560],         
    0x330: [-117,269,0,-2,558],        
    0x332: [-127,177,0,0,1000],        
    0x338: [532,21,0,0,563],           
    0x20D0: [749,-584,0,28,899],       
    0x20D1: [749,-584,0,27,898],       
    0x20D6: [735,-482,0,27,899],       
    0x20D7: [736,-482,0,27,899],       
    0x20EC: [-123,288,0,27,898],       
    0x20ED: [-123,288,0,28,899],       
    0x20EE: [-26,279,0,27,899],        
    0x20EF: [-25,279,0,27,899]         
  });
  REPLACE(SIZE2,{
    0x302: [777,-564,0,0,979],         
    0x303: [760,-608,0,-2,977],        
    0x305: [820,-770,0,0,1500],        
    0x30C: [777,-564,0,0,979],         
    0x330: [-117,269,0,-2,977],        
    0x332: [-127,177,0,0,1000],        
    0x338: [662,0,0,0,714],            
    0x20D0: [749,-584,0,27,1335],      
    0x20D1: [749,-584,0,27,1335],      
    0x20D6: [735,-482,0,27,1335],      
    0x20D7: [735,-482,0,27,1335],      
    0x20EC: [-123,288,0,27,1335],      
    0x20ED: [-123,288,0,27,1335],      
    0x20EE: [-26,279,0,27,1335],       
    0x20EF: [-26,279,0,27,1335]        
  });
  REPLACE(SIZE3,{
    0x302: [777,-564,0,0,1460],        
    0x303: [774,-608,0,-2,1458],       
    0x305: [820,-770,0,0,2000],        
    0x30C: [777,-564,0,0,1460],        
    0x330: [-117,283,0,-2,1458],       
    0x332: [-127,177,0,0,2000],        
    0x338: [662,156,0,137,548],        
    0x20D0: [749,-584,0,27,1771],      
    0x20D1: [749,-584,0,27,1771],      
    0x20D6: [735,-482,0,27,1771],      
    0x20D7: [735,-482,0,27,1771],      
    0x20EC: [-123,288,0,27,1771],      
    0x20ED: [-123,288,0,27,1771],      
    0x20EE: [-26,279,0,27,1771],       
    0x20EF: [-26,279,0,27,1771]        
  });
  REPLACE(SIZE4,{
    0x302: [796,-573,0,0,1886],        
    0x303: [771,-608,0,0,1886],        
    0x305: [820,-770,0,0,2500],        
    0x30C: [796,-573,0,0,1886],        
    0x330: [-117,280,0,0,1886],        
    0x332: [-127,177,0,0,2500],        
    0x338: [731,228,0,170,491],        
    0x20D0: [749,-584,0,27,2207],      
    0x20D1: [749,-584,0,27,2207],      
    0x20D6: [735,-482,0,27,2207],      
    0x20D7: [735,-482,0,27,2207],      
    0x20EC: [-123,288,0,27,2207],      
    0x20ED: [-123,288,0,27,2207],      
    0x20EE: [-26,279,0,27,2207],       
    0x20EF: [-26,279,0,27,2207]        
  });
  REPLACE(SIZE5,{
    0x302: [816,-572,0,0,2328],        
    0x303: [780,-617,0,0,2328],        
    0x305: [820,-770,0,0,3000],        
    0x30C: [816,-572,0,0,2328],        
    0x330: [-117,280,0,0,2328],        
    0x332: [-127,177,0,0,3000],        
    0x338: [960,454,0,119,557],        
    0x20D0: [749,-584,0,0,3000],       
    0x20D1: [749,-584,0,0,3000],       
    0x20D6: [735,-482,0,0,3000],       
    0x20D7: [735,-482,0,0,3000],       
    0x20EC: [-123,288,0,0,3000],       
    0x20ED: [-123,288,0,0,3000],       
    0x20EE: [-26,279,0,0,3000],        
    0x20EF: [-26,279,0,0,3000]         
  });
  MathJax.Hub.Register.LoadHook(HTMLCSS.fontDir+"/General/BoldItalic/CombDiactForSymbols.js",
    function () {
      REPLACE("STIXGeneral-bold-italic",{
        0x20DD: [760,254,1073,32,1041]     
      });
    }
  );
  var SIZES = [SIZE1,SIZE2,SIZE3,SIZE4];
  var CHARS = [0x2C6,0x2C7,0x2DC,0x2E7];
  for (var i = 0; i < SIZES.length; i++) {
    for (var j = 0; j < CHARS.length; j++) {
      delete HTMLCSS.FONTDATA.FONTS[SIZES[i]][j];
    }
  }
  MathJax.Ajax.loadComplete(HTMLCSS.fontDir+"/fontdata-beta.js");
})(MathJax.OutputJax["HTML-CSS"],MathJax.InputJax.TeX);
